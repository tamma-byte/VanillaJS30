<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>JS Array Cardio</title>
    </head>
    <body>
        <p><em>Note: Have a look at the JS Console</em></p>
        <script>
            //PURPOSE: To build function skills with array data

            //Creating new data so easier to differentiate between course videos and this code
            const entertainers = [
                {first: 'Whitney', last: 'Houston', year: 1963, passed: 2012},
                {first: 'Eddie', last: 'van Halen', year: 1955, passed: 2020},
                {first: 'Betty', last: 'White', year: 1922, passed: 2021},
                {first: 'David', last: 'Bowie', year: 1947, passed: 2016},
                {first: 'Michael', last: 'Jackson', year: 1958, passed: 2009},
                {first: 'Elvis', last: 'Presley', year: 1935, passed: 1977}
            ];

            const actors = [
                'de Niro, Robert', 'Nicholson, Jack', 'Brando, Marlon', 'Washington, Denzel', 'Hepburn, Katharine', 'Bogart, Humphrey', 'Streep, Meryl', 'Day-Lewis, Daniel', 'Taylor, Elizabeth', 'Davis, Bette', 'Blanchett, Cate', 'Hepburn, Audrey', 'Collette, Toni', 'Olivier, Laurence', 'Keaton, Diane', 'Freeman, Morgan', 'Mirren, Helen', 'Andrews, Julie', 'Pacino, Alfredo', 'Ford, Harrison', 'Astaire, Fred', 'Kelly, Gene', 'Close, Glenn'
            ];



            // Array.prototype.filter()
            // 1. Filter the list of entertainers for those who were born before 1950
            function bornBefore1950(item){
                if(item.year < 1950){
                    console.log(item.first + ' '+ item.last+' was born in '+ item.year);
                }
            }
            let entertainer = entertainers.filter(bornBefore1950); 
                //RETURNS: 
                //Betty White was born in 1922
                //David Bowie was born in 1947
                //Elvis Presley was born in 1935



            // Array.prototype.map()
            // 2. Give us an array of the entertainers first and last names
            function firstLastNames(item){
                console.log(`Full Name: ${item.first} ${item.last}`)
            }
            let people = entertainers.map(firstLastNames);
                //RETURNS: 
                //Full Name: Whitney Houston
                //Full Name: Eddie van Halen
                //Full Name: Betty White
                //Full Name: David Bowie
                //Full Name: Michael Jackson
                //Full Name: Elvis Presley



            // Array.prototype.sort()
            // 3. Sort the entertainers by birthdate, oldest to youngest
            //(METHOD 1: Call the entertainers before the function)
            // Note: when q5 answer is entered, it will change the order as it is the later function
            const random = entertainers.sort(function(firstYear, secondYear){
                return firstYear.year - secondYear.year;
            })
            console.table(random)
            //(METHOD 2: set up a separate function before calling the array)
            // Works on Mozilla Firefox but not Microsoft Edge
            function sortedEntertainers(firstYear, secondYear){
                return firstYear.year - secondYear.year;
            }
            console.table(entertainers.sort(sortedEntertainers));
            //(METHOD 3: As per Vanilla JS instructions)
            const vanillaSort = entertainers.sort((a, b) => a.year >b.year ? 1:-1);
            console.table(vanillaSort);
                //RETURNS:
                //0: Object { first: "Betty", last: "White", year: 1922, ... }            
                //1: Object { first: "Elvis", last: "Presley", year: 1935, ...}
                //2: Object { first: "David", last: "Bowie", year: 1947, … }
                //3: Object { first: "Eddie", last: "van Halen", year: 1955, … }
                //4: Object { first: "Michael", last: "Jackson", year: 1958, … }
                //5: Object { first: "Whitney", last: "Houston", year: 1963, … }
            


            // Array.prototype.reduce()
            // 4. How many years did all the entertainers live?
            // NOTE: Intepreted this question as per person rather than complete total
            function yearsLived(initial, person, index, array){
                const age = person.passed - person.year;
                console.log(`${person.first} ${person.last} lived until ${age} years old`);
                return age;
            };
            entertainers.reduce(yearsLived, 0);
            //Need to call the initialValue of the array, being position [0]
                //RETURNS
                //Betty White lived until 99 years old
                //Elvis Presley lived until 42 years old
                //David Bowie lived until 69 years old
                //Eddie van Halen lived until 65 years old
                //Michael Jackson lived until 51 years old
                //Whitney Houston lived until 49 years old
            
            // Calculate the total number of years lived by ALL entertainers
            function totalYearsLived(total, lived){
                return total + (lived.passed - lived.year);
            }
            console.log(entertainers.reduce(totalYearsLived, 0));
                //RETURNS '375'


            // 5. Sort the entertainers by years lived

            entertainers.sort(function(a, b){
                var firstPersonAge = a.passed - a.year;
                var secondPersonAge = b.passed - b.year;
                return firstPersonAge - secondPersonAge;
            });
            console.log(entertainers)
                //RETURNS
                //0: Object { first: "Elvis", last: "Presley", year: 1935,... }
                //1: Object { first: "Whitney", last: "Houston", year: 1963, ... }
                //2: Object { first: "Michael", last: "Jackson", year: 1958, ... }
                //3: Object { first: "Eddie", last: "van Halen", year: 1955, ... }
                //4: Object { first: "David", last: "Bowie", year: 1947, ... }
                //5: Object { first: "Betty", last: "White", year: 1922, ... }



            // 6. create a list of Boulevards in Paris that contain 'de' anywhere in the name
            // https://en.wikipedia.org/wiki/Category:Boulevards_in_Paris (Go to this website and insert following code into Console)

            /*const category = document.querySelector('.mw-category');    //Need to call this const 'category'
            //const links = category.querySelectorAll('a');             //This is a NodeList and doesn't work with an Array
            
            //Turn NODELIST into an ARRAY
            const links = [...category.querySelectorAll('a')];  
            const deIncluded = links.map(link =>link.textContent);
            const showDe = deIncluded.filter(streetName => streetName.includes('de'));*/
                //RETURNS
                //0: "Boulevard de l'Amiral-Bruix"
                //1: "Boulevard des Capucines"
                //2: "Boulevard de la Chapelle"
                //3: "Boulevard de Clichy"
                //4: "Boulevard de l'Hôpital"
                //5: "Boulevard des Italiens"
                //6: "Boulevard de la Madeleine"
                //7: "Boulevard de Magenta"
                //8: "Boulevard Marguerite-de-Rochechouart"
                //9: "Boulevard de Sébastopol"
                //10: "Boulevard de Strasbourg"
                //11: "Boulevard de la Zone"
                //length: 12


            // 7. sort Exercise
            // Sort the ENTERTAINERS alphabetically by last name
            function sortByLastName(a, b) {
                const surnameFirst = a.last.toUpperCase();  // ignore upper and lowercase
                const surnameNext = b.last.toUpperCase();   // ignore upper and lowercase
                if (surnameFirst < surnameNext) {
                    return -1;                              // Sort 'surnameFirst' before 'surnameNext'
                }
                else if (surnameFirst > surnameNext) {
                    return 1;                               // Sort 'surnameNext' before 'surnameFirst'
                }
                // names must be equal
                else{
                    return 0;                               // None of the last names are the same
                    }
                };
                console.log(entertainers.sort(sortByLastName));
                    //RETURNS
                    //0: Object { first: "David", last: "Bowie", year: 1947, … }
                    //1: Object { first: "Whitney", last: "Houston", year: 1963, … }
                    //2: Object { first: "Michael", last: "Jackson", year: 1958, … }
                    //3: Object { first: "Elvis", last: "Presley", year: 1935, … }
                    //4: Object { first: "Eddie", last: "van Halen", year: 1955, … }
                    //5: Object { first: "Betty", last: "White", year: 1922, … }

                //Sort the ACTORS aphabetically by last name
                const actorArray = actors.map(word => {
                    const split = word.split(', ');
                    return {last: `${split[0]}`, first: `${split[1]}`}
                });

                function actorsLastNames(a, b) {
                    const firstSurname = a.last.toUpperCase();
                    const nextSurname = b.last.toUpperCase();
                    return (firstSurname < nextSurname) ? -1 :1;
                };
                console.log(actorArray.sort(actorsLastNames))


            // 8. Reduce Exercise
            // Sum up the instances of each of these
            const data = ['car', 'car', 'truck', 'truck', 'bike', 'walk', 'car', 'van', 'bike', 'walk', 'car', 'van', 'car', 'truck' ];

            function instances(allData, data){
                if(data in allData){
                    allData[data]++
                } else {
                    allData[data] = 1
                }
                return allData
            }
            console.log(data.reduce(instances, {}));
                //RETURNS
                //Object { car: 5, truck: 3, bike: 2, walk: 2, van: 2 }

        </script>
    </body>
</html>
